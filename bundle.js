(()=>{"use strict";const e=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;function t(t){return e.test(t)}document.addEventListener("DOMContentLoaded",(()=>{emailjs.init("4z931Zjecp4KkjF4H");const e=document.getElementById("to-up-link");e.style="visibility: hidden;";const n=document.querySelector(".navbar"),s=document.getElementById("navbar-links"),i=document.querySelectorAll(".navbar__link"),a=document.querySelector(".menu-button"),o=document.getElementById("form-message"),l=document.querySelectorAll("section"),r=document.getElementById("email-error-text"),c=document.getElementById("form-error-text");let d=null,m=null;const u=n.offsetTop+n.clientHeight;function v(){Array.from(s.children).forEach((e=>e.classList.remove("navbar__link--active")))}s.addEventListener("click",(e=>{const t=e.target;d!==t.closest("a")&&(v(),t.closest("a").classList.add("navbar__link--active"),d=t.closest("a"))})),window.addEventListener("scroll",(()=>{!function(){const t=window.pageYOffset||document.documentElement.scrollTop;e.style=t>400?"visibility: visible;":"visibility: hidden;"}(),function(){for(const e of l)if(window.pageYOffset+u<e.offsetTop+e.clientHeight){m=e.getAttribute("id");break}}(),v(),i.forEach((e=>{window.innerHeight+window.pageYOffset>=document.body.offsetHeight-2?i[i.length-1].classList.add("navbar__link--active"):e.dataset.to===m&&e.classList.add("navbar__link--active")}))})),a.addEventListener("click",(()=>{"navbar__links"===s.className?s.className+=" navbar__links--mobile":s.className="navbar__links"})),o.email?.addEventListener("input",(e=>{const n=e.target.value;n&&t(n)?(e.target.classList.remove("error"),r.innerHTML="&nbsp;",c.innerHTML="&nbsp;"):(e.target.classList.add("error"),r.innerHTML="This format is invalid!")})),o.addEventListener("submit",(e=>{e.preventDefault();const n=o.name?.value,s=o.message?.value,i=o.email?.value,a=i&&t(i);n&&a&&s?sessionStorage.getItem("sessionUser")?c.innerHTML="You cannot send another message.":emailjs.sendForm("service_l4qry2b","template_230rnqb",o).then((e=>{console.log("Successfully sent a message. Status: %d, Text: %s",e.status,e.text),sessionStorage.setItem("sessionUser",o.user_email.value)}),(e=>console.error("Sending a message failed: ",e))):c.innerHTML="The form is incorrectly filled. Sending messages is not allowed."}));document.getElementById("date").innerHTML=(new Date).getFullYear()}))})();
//# sourceMappingURL=bundle.js.map