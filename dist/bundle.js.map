{"version":3,"file":"bundle.js","mappings":"mBACA,MAGMA,EACJ,8GAEF,SAASC,EAAaC,GACpB,OAAOF,EAAaG,KAAKD,EAC3B,CAEAE,SAASC,iBAAiB,oBAAoB,KAC5CC,QAAQC,KAXY,qBAapB,MAAMC,EAAWJ,SAASK,eAAe,cACzCD,EAASE,MAAQ,sBACjB,MAAMC,EAAMP,SAASQ,cAAc,WAC7BC,EAAcT,SAASK,eAAe,gBACtCK,EAAQV,SAASW,iBAAiB,iBAClCC,EAAaZ,SAASQ,cAAc,gBACpCK,EAAcb,SAASK,eAAe,gBACtCS,EAAWd,SAASW,iBAAiB,WACrCI,EAAiBf,SAASK,eAAe,oBACzCW,EAAgBhB,SAASK,eAAe,mBAC9C,IAAIY,EAAc,KACdC,EAAgB,KACpB,MAAMC,EAAYZ,EAAIa,UAAYb,EAAIc,aAWtC,SAASC,IACPC,MAAMC,KAAKf,EAAYgB,UAAUC,SAAQC,GAAQA,EAAKC,UAAUC,OAAO,yBACzE,CAXApB,EAAYR,iBAAiB,SAAS6B,IACpC,MAAMC,EAASD,EAAMC,OACjBd,IAAgBc,EAAOC,QAAQ,OACjCV,IACAS,EAAOC,QAAQ,KAAKJ,UAAUK,IAAI,wBAClChB,EAAcc,EAAOC,QAAQ,KAC/B,IAuBFE,OAAOjC,iBAAiB,UAAU,MAPlC,WACE,MAAMkC,EAAYD,OAAOE,aAAepC,SAASqC,gBAAgBF,UAE5D/B,EAASE,MADd6B,EAAY,IACU,uBACA,qBACxB,CAGEG,GAjBF,WACE,IAAK,MAAMC,KAAWzB,EACpB,GAAIoB,OAAOE,YAAcjB,EAAYoB,EAAQnB,UAAYmB,EAAQlB,aAAc,CAC7EH,EAAgBqB,EAAQC,aAAa,MACrC,KACF,CAEJ,CAWEC,GACAnB,IAEAZ,EAAMgB,SAAQgB,IACRR,OAAOS,YAAcT,OAAOE,aAAepC,SAAS4C,KAAKC,aAAe,EAC1EnC,EAAMA,EAAMoC,OAAS,GAAGlB,UAAUK,IAAI,wBAE7BS,EAAEK,QAAQC,KAAO9B,GAC1BwB,EAAEd,UAAUK,IAAI,uBAClB,GACD,IAGHrB,EAAWX,iBAAiB,SAAS,KACT,kBAA1BQ,EAAYwC,UACPxC,EAAYwC,WAAa,yBACzBxC,EAAYwC,UAAY,eAAe,IAG9CpC,EAAYqC,OAAOjD,iBAAiB,SAAS6B,IAC3C,MAAMhC,EAAQgC,EAAMC,OAAOjC,MACXA,GAASD,EAAaC,IAMpCgC,EAAMC,OAAOH,UAAUC,OAAO,SAC9Bd,EAAeoC,UAAY,SAC3BnC,EAAcmC,UAAY,WAL1BrB,EAAMC,OAAOH,UAAUK,IAAI,SAC3BlB,EAAeoC,UAAY,0BAK7B,IAGFtC,EAAYZ,iBAAiB,UAAU6B,IACrCA,EAAMsB,iBACN,MAAMC,EAAOxC,EAAYwC,MAAMvD,MACzBwD,EAAUzC,EAAYyC,SAASxD,MAC/BoD,EAAQrC,EAAYqC,OAAOpD,MAC3ByD,EAAUL,GAASrD,EAAaqD,GACpBG,GAAQE,GAAWD,EAMjCE,eAAeC,QAAQ,eACzBzC,EAAcmC,UAAY,mCAI5BjD,QAAQwD,SA3GM,kBACC,mBA0GyB7C,GAAa8C,MACnDC,IACEC,QAAQC,IACN,oDACAF,EAASG,OACTH,EAASI,MAEXR,eAAeS,QAAQ,cAAepD,EAAYqD,WAAWpE,MAAK,IAEpEqE,GAASN,QAAQM,MAAM,6BAA8BA,KAjBrDnD,EAAcmC,UAAY,kEAkB5B,IAGWnD,SAASK,eAAe,QAChC8C,WAAY,IAAIiB,MAAOC,aAAY,G","sources":["webpack://arsenutepbergenov.github.io/./app.js"],"sourcesContent":["import './src/styles/index.scss'\nconst emailPublicId = '4z931Zjecp4KkjF4H'\nconst serviceId = 'service_l4qry2b'\nconst templateId = 'template_230rnqb'\nconst EMAIL_REGEXP =\n  /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/iu\n\nfunction isEmailValid(value) {\n  return EMAIL_REGEXP.test(value)\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  emailjs.init(emailPublicId)\n\n  const toUplink = document.getElementById('to-up-link')\n  toUplink.style = 'visibility: hidden;'\n  const nav = document.querySelector('.navbar')\n  const navbarLinks = document.getElementById('navbar-links')\n  const links = document.querySelectorAll('.navbar__link')\n  const menuButton = document.querySelector('.menu-button')\n  const formMessage = document.getElementById('form-message')\n  const sections = document.querySelectorAll('section')\n  const emailErrorText = document.getElementById('email-error-text')\n  const formErrorText = document.getElementById('form-error-text')\n  let currentNode = null\n  let currentActive = null\n  const offsetNav = nav.offsetTop + nav.clientHeight\n\n  navbarLinks.addEventListener('click', event => {\n    const target = event.target\n    if (currentNode !== target.closest('a')) {\n      removeActiveStyle()\n      target.closest('a').classList.add('navbar__link--active')\n      currentNode = target.closest('a')\n    }\n  })\n\n  function removeActiveStyle() {\n    Array.from(navbarLinks.children).forEach(item => item.classList.remove('navbar__link--active'))\n  }\n\n  function findCurrentActive() {\n    for (const section of sections) {\n      if (window.pageYOffset + offsetNav < section.offsetTop + section.clientHeight) {\n        currentActive = section.getAttribute('id')\n        break\n      }\n    }\n  }\n\n  function showToUplink() {\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n    scrollTop > 400\n      ? (toUplink.style = 'visibility: visible;')\n      : (toUplink.style = 'visibility: hidden;')\n  }\n\n  window.addEventListener('scroll', () => {\n    showToUplink()\n    findCurrentActive()\n    removeActiveStyle()\n\n    links.forEach(l => {\n      if (window.innerHeight + window.pageYOffset >= document.body.offsetHeight - 2) {\n        links[links.length - 1].classList.add('navbar__link--active')\n        return\n      } else if (l.dataset.to === currentActive) {\n        l.classList.add('navbar__link--active')\n      }\n    })\n  })\n\n  menuButton.addEventListener('click', () => {\n    navbarLinks.className === 'navbar__links'\n      ? (navbarLinks.className += ' navbar__links--mobile')\n      : (navbarLinks.className = 'navbar__links')\n  })\n\n  formMessage.email?.addEventListener('input', event => {\n    const value = event.target.value\n    const isEmail = value && isEmailValid(value)\n\n    if (!isEmail) {\n      event.target.classList.add('error')\n      emailErrorText.innerHTML = 'This format is invalid!'\n    } else {\n      event.target.classList.remove('error')\n      emailErrorText.innerHTML = '&nbsp;'\n      formErrorText.innerHTML = '&nbsp;'\n    }\n  })\n\n  formMessage.addEventListener('submit', event => {\n    event.preventDefault()\n    const name = formMessage.name?.value\n    const message = formMessage.message?.value\n    const email = formMessage.email?.value\n    const isEmail = email && isEmailValid(email)\n    const allowSend = name && isEmail && message\n\n    if (!allowSend) {\n      formErrorText.innerHTML = 'The form is incorrectly filled. Sending messages is not allowed.'\n      return\n    }\n    if (sessionStorage.getItem('sessionUser')) {\n      formErrorText.innerHTML = 'You cannot send another message.'\n      return\n    }\n\n    emailjs.sendForm(serviceId, templateId, formMessage).then(\n      response => {\n        console.log(\n          'Successfully sent a message. Status: %d, Text: %s',\n          response.status,\n          response.text,\n        )\n        sessionStorage.setItem('sessionUser', formMessage.user_email.value)\n      },\n      error => console.error('Sending a message failed: ', error),\n    )\n  })\n\n  const date = document.getElementById('date')\n  date.innerHTML = new Date().getFullYear()\n})\n"],"names":["EMAIL_REGEXP","isEmailValid","value","test","document","addEventListener","emailjs","init","toUplink","getElementById","style","nav","querySelector","navbarLinks","links","querySelectorAll","menuButton","formMessage","sections","emailErrorText","formErrorText","currentNode","currentActive","offsetNav","offsetTop","clientHeight","removeActiveStyle","Array","from","children","forEach","item","classList","remove","event","target","closest","add","window","scrollTop","pageYOffset","documentElement","showToUplink","section","getAttribute","findCurrentActive","l","innerHeight","body","offsetHeight","length","dataset","to","className","email","innerHTML","preventDefault","name","message","isEmail","sessionStorage","getItem","sendForm","then","response","console","log","status","text","setItem","user_email","error","Date","getFullYear"],"sourceRoot":""}